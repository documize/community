<style>
.workspaces {
	margin: 0;
	padding: 0;
	}
	
.workspace {
	float: left;
	list-style: none;
	margin: 0px 15px 15px 0;
	cursor: pointer;
	position: relative;
}

.card {
	height: 50px;
	width: 75px;
	text-align: center;
	color: #fff;
	padding-top: 15px;
}

.selected-card {
	position: absolute;
	top: 2px;
	right: 4px;
	color: #fff;
	font-size: 10px;
}

.waiting {
	font-size: 11px;
	color: gray;
	margin-left: 20px;
}
</style>

{{#section/base-editor document=document folder=folder page=page busy=waiting tip="Gemini enterprise issue and ticketing software (https://www.countersoft.com)" isDirty=(action 'isDirty') onCancel=(action 'onCancel') onAction=(action 'onAction')}}
	
	<div class="pull-left" style="width: 45%;">
	<div class="input-form">
		<form>
			<div class="heading">
				<div class="title">Credentials</div>
				<div class="tip">URL to the Gemini instance</div>
			</div>
			<div class="input-control">
				<label>Gemini URL</label>
				<div class="tip">e.g. http://helpdesk.countersoft.com</div>
				{{focus-input id="gemini-url" type="text" value=config.url readonly=fieldEditable}}
			</div>
			<div class="input-control">
				<label>Username</label>
				<div class="tip">Gemini username</div>
				{{input id="gemini-username" type="text" value=config.username readonly=fieldEditable}}
			</div>
			<div class="input-control">
				<label>API Key</label>
				<div class="tip">Gemini user API key (from user profile)</div>
				{{input id="gemini-apikey" type="password" value=config.APIKey readonly=fieldEditable}}
			</div>
			<div class="regular-button button-blue" {{ action 'auth' }}>Authenticate</div>
		</form>
	</div>
	</div>

	<div class="pull-left margin-left-40" style="width: 45%;">
	{{#if authenticated}}
		<div class="input-form">
			<form>
				<div class="heading">
					<div class="title">Workspace</div>
					<div class="tip">Select Gemini workspace for source of items to be displayed</div>
				</div>
				<ul class="workspaces">
					{{#each workspaces as |card|}}
						<li class="workspace" data-tooltip="{{card.Title}}" data-tooltip-position="bottom center" id="gemini-workspace-{{card.Id}}">
							<div class="card" style="background-color:{{card.Color}};" {{action 'onWorkspaceChange' card.Id}}>{{card.Key}}</div>
							{{#if card.selected}}
								<div class="selected-card">&#10003;</div>
							{{/if}}
						</li>
					{{/each}}
				</ul>
				<div class="clearfix" />
			</form>
		</div>
	{{/if}}
	</div>
		
{{/section/base-editor}}